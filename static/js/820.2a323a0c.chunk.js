"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[820],{2820:function(s,e,n){n.r(e),n.d(e,{default:function(){return L}});var i=n(4487),a=n(364),r=n(7781),t=n(2163),d=(n(2791),"Dialogs_dialogs__KdKFN"),o="Dialogs_dialogsItems__mgEE2",c="Dialogs_chatContainer__HNpEU",l="Dialogs_dialog__FwpB0",u="Dialogs_messageContainer__Ct7lk",m="Dialogs_message__LSFbi",g="Dialogs_chatMessageTimestamp__EXoTY",_="Dialogs_chat__hVThc",h="Dialogs_me__q+C1d",j="Dialogs_friend__kiY1C",f="Dialogs_addNewMessageContainer__9NlTe",x="Dialogs_selectUserLink__OhDzV",v=n(1523),D=n(184),N=function(s){var e="/dialogs/"+s.id;return(0,D.jsxs)(v.OL,{to:e,className:l,children:[(0,D.jsx)("img",{src:s.avatar}),(0,D.jsx)("div",{children:(0,D.jsx)("b",{children:s.name})})]})},p=n(8770),b=n(1413),C=n(6139),w=n(704),M=n(3079),k=n(1117),y=(0,M.D)(100),A=(0,w.Z)({form:"dialogAddMessageForm"})((function(s){var e=s.handleSubmit,n=s.reset;return(0,D.jsx)("div",{children:(0,D.jsx)("form",{onSubmit:e((function(e){s.onSubmit(e),n()})),children:(0,D.jsxs)("div",{className:f,children:[(0,D.jsx)("div",{children:(0,D.jsx)(C.Z,{component:k.gx,name:"newMessageBody",placeholder:"Enter your message",validate:[y]})}),(0,D.jsx)("div",{children:(0,D.jsx)("button",{type:"submit",children:"send"})})]})})})})),E=n(9271),F=function(s){return(0,D.jsxs)("div",{className:"".concat(u," ").concat("me"===s.sender?h:j),children:[(0,D.jsx)("div",{className:m,children:s.message}),(0,D.jsx)("div",{className:g,children:s.time})]})},S=function(){return(0,D.jsxs)("div",{children:["\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0447\u0430\u0442 \u0438\u043b\u0438 ",(0,D.jsx)(v.OL,{to:"/users",className:x,children:"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})]})},Z=function(s){var e=(0,E.UO)().userId,n=(0,a.v9)((function(s){return s.dialogsPage.messages[e]})),r=(0,a.I0)();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{className:_,children:n?n.map((function(s){return(0,D.jsx)(F,(0,b.Z)({},s),s.id)})):(0,D.jsx)(S,{})}),(0,D.jsx)(A,{onSubmit:function(s){r((0,i.d)(e,s.newMessageBody))}})]})},L=(0,r.qC)((0,a.$j)((function(s){return{dialogsPage:s.dialogsPage}}),(function(s){return{sendMessage:function(e,n){s((0,i.d)(e,n))}}})),t.e)((function(s){var e=(0,a.v9)((function(s){return s.subscribers.friends})).map((function(s){return(0,D.jsx)(N,{name:s.name,id:s.id,avatar:s.photos.small?s.photos.small:p},s.id)}));return(0,D.jsxs)("div",{className:d,children:[(0,D.jsx)("div",{className:o,children:e}),(0,D.jsx)("div",{className:c,children:(0,D.jsx)(Z,{sendMessage:s.sendMessage})})]})}))},2163:function(s,e,n){n.d(e,{e:function(){return l}});var i=n(1413),a=n(5987),r=(n(2791),n(9271)),t=n(364),d=n(184),o=["isAuth"],c=function(s){return{isAuth:s.auth.isAuth}},l=function(s){return(0,t.$j)(c)((function(e){var n=e.isAuth,t=(0,a.Z)(e,o);return n?(0,d.jsx)(s,(0,i.Z)({},t)):(0,d.jsx)(r.l_,{to:"/login"})}))}}}]);
//# sourceMappingURL=820.2a323a0c.chunk.js.map